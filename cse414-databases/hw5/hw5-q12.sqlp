SELECT countries1.name AS first_country, countries2.name AS second_country, shared_both.mountains, shared_both.seas
FROM (SELECT x.`-car_code` AS code, x.name FROM hw5index.country x) AS countries1, (SELECT x.`-car_code` AS code, x.name FROM hw5index.country x) AS countries2, (SELECT shared_mtns.country1, shared_seas.country4, shared_mtns.mountains, shared_seas.seas
FROM (SELECT DISTINCT mtn_a.country1, mtn_a.country2, (SELECT mtn_b.mountain FROM (SELECT DISTINCT c1 AS country1, c2 AS country2, m1.name AS mountain
FROM hw5index.mountain m1, SPLIT(m1.`-country`, " ") c1, hw5index.mountain m2, SPLIT(m2.`-country`, " ") c2 WHERE m1.name = m2.name AND c1 < c2) AS mtn_b WHERE mtn_a.country1 = mtn_b.country1 AND mtn_a.country2 = mtn_b.country2) AS mountains FROM (SELECT DISTINCT c1 AS country1, c2 AS country2, m1.name AS mountain
FROM hw5index.mountain m1, SPLIT(m1.`-country`, " ") c1, hw5index.mountain m2, SPLIT(m2.`-country`, " ") c2 WHERE m1.name = m2.name AND c1 < c2) AS mtn_a) AS shared_mtns,
(SELECT DISTINCT sea_a.country3, sea_a.country4, (SELECT sea_b.sea FROM (SELECT DISTINCT c3 AS country3, c4 AS country4, s1.name AS sea
FROM hw5index.sea s1, SPLIT(s1.`-country`, " ") c3, hw5index.sea s2, SPLIT(s2.`-country`, " ") c4 WHERE s1.name = s2.name AND c3 < c4) AS sea_b WHERE sea_a.country3 = sea_b.country3 AND sea_a.country4 = sea_b.country4) AS seas FROM (SELECT DISTINCT c3 AS country3, c4 AS country4, s1.name AS sea
FROM hw5index.sea s1, SPLIT(s1.`-country`, " ") c3, hw5index.sea s2, SPLIT(s2.`-country`, " ") c4 WHERE s1.name = s2.name AND c3 < c4) AS sea_a) AS shared_seas WHERE shared_mtns.country1 = shared_seas.country3 AND shared_mtns.country2 = shared_seas.country4) AS shared_both WHERE countries1.code = shared_both.country1 AND countries2.code = shared_both.country4;